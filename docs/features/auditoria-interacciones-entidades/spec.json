{
  "feature_id": "auditoria-interacciones-entidades",
  "purpose": "Incorporar al agente auditor en los elementos del sistema mediante cambios al contrato de Token; auditar interacciones entre entidades de modelo (que implementan contrato de Token). SddIA ha de contabilizar la información y, antes de cada commit, generar un fichero documental en formato JSON y MD en paths.auditsPath.",
  "model_entities_definition": "Entidades de modelo: aquellas que implementan el contrato de Token (paths.tokensPath); todas han de implementarlo. Instancias: skill, tool, action, process.",
  "touchpoints": [
    {"area": "SddIA/tokens/tokens-contract.json", "change": "interaction_audit, auditor como consumidor, constraints"},
    {"area": "SddIA/tokens/karma2-token/spec.json", "change": "token_definition.interaction_audit, validation_rules"},
    {"area": "SddIA/agents/auditor/process-interaction.json", "change": "Instruction: consumir interaction_audit para agregación"}
  ],
  "interaction_audit_fields": ["entity_type", "entity_id", "invoked_by", "timestamp"],
  "entity_type_definition": "Identificación del tipo de entidad de modelo (implementa contrato de Token). Valores de ejemplo: skill, tool, action, process.",
  "pre_commit_output": {
    "path_ref": "paths.auditsPath",
    "formats": ["json", "md"],
    "name_base_example": "INTERACCIONES_YYYY-MM-DD_HHmm"
  }
}
