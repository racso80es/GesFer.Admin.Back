{
  "contract_version": "1.0.0",
  "scope": "paths.actionsPath (SddIA/actions/)",
  "description": "Contrato que toda acción del ciclo debe cumplir: definición en paths.actionsPath/<action-id>/ con spec.md y spec.json. Entrada/salida y flujo documentados.",
  "definition_artefacts": [
    { "ext": ".md", "naming": "spec.md", "path": "paths.actionsPath/<action-id>/", "purpose": "Especificación legible: propósito, entradas, salidas, flujo. es-ES." },
    { "ext": ".json", "naming": "spec.json", "path": "paths.actionsPath/<action-id>/", "purpose": "Metadatos machine-readable: action_id, name, purpose, inputs, outputs, flow_steps, contract_ref, principles_applicable (opcional)." }
  ],
  "principles_validation": "Las acciones que afecten diseño o implementación (spec, planning, implementation, execution) deben validar coherencia con paths.principlesPath (principles-contract.json). En spec.json puede declararse principles_applicable (array de principle_id) o principles_ref: paths.principlesPath.",
  "patterns_validation": "Las acciones planning, implementation y execution deben consultar paths.patternsPath para referenciar patrones en el PLAN, en ítems IMPL (pattern_id) y en ejecución. Norma: SddIA/norms/patterns-in-planning-implementation-execution.md.",
  "security_model": {
    "required_token": "Karma2Token",
    "token_ref": "SddIA/Tokens/Karma2Token.json",
    "description": "Toda acción debe ser invocada bajo el contexto de un Karma2Token válido."
  },
  "constraints": [
    "action_id en kebab-case.",
    "Rutas canónicas solo desde Cúmulo (paths.actionsPath, paths.processPath, paths.featurePath, paths.fixPath, paths.principlesPath, paths.patternsPath).",
    "Acciones de diseño/implementación: validar principios según principles-contract.",
    "Planning, implementation, execution: aplicar patrones según patterns-in-planning-implementation-execution.md.",
    "Cumplimiento obligatorio de Karma2Token para trazabilidad y seguridad."
  ],
  "consumers": ["paths.processPath", "SddIA/agents/*.json", "SddIA/norms/interaction-triggers.md", ".cursor/rules"]
}
