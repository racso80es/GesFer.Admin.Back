{
  "spec_version": "1.0.0",
  "skill_id": "iniciar-rama",
  "name": "Iniciar Rama",
  "description": "Crea una rama nueva (feat/ o fix/) actualizada con master/main y posiciona el repo en ella. Para el inicio de una acción o tarea.",
  "implementation_path_ref": "paths.skillCapsules.iniciar-rama",
  "contract_ref": "SddIA/skills/skills-contract.json",
  "owner": "tekton-developer",
  "status": "Active",
  "phases": [
    {
      "id": "create_branch",
      "name": "Crear rama desde troncal actualizada",
      "description": "Fetch, checkout a master/main, pull, checkout -b feat/<slug> o fix/<slug>.",
      "steps": [
        "Normalizar slug del nombre de rama",
        "Si rama existe: checkout y merge origin/troncal; si no: fetch, checkout troncal, pull, checkout -b nueva rama",
        "Comprobar git status y git branch -vv"
      ]
    }
  ],
  "parameters": {
    "BranchType": { "type": "string", "enum": ["feat", "fix"], "required": true, "description": "Tipo de rama: feat o fix" },
    "BranchName": { "type": "string", "required": true, "description": "Slug del nombre (ej. mi-feature, correccion-timeout)" },
    "MainBranch": { "type": "string", "enum": ["master", "main"], "required": false, "description": "Rama troncal; por defecto se detecta" },
    "SkipPull": { "type": "boolean", "required": false, "default": false, "description": "No ejecutar pull en la troncal" }
  },
  "rules": [
    "Nunca trabajar en master/main; inicio de acción deja el repo en feat/ o fix/",
    "La nueva rama se crea desde la troncal actualizada con origin"
  ],
  "common_workflows": {
    "start_feature": "Iniciar-Rama.bat o .ps1 -BranchType feat -BranchName <slug>",
    "start_fix": "Iniciar-Rama.bat o .ps1 -BranchType fix -BranchName <slug>"
  },
  "related_artefacts": ["paths.processPath/feature.md", "paths.processPath/bug-fix-specialist.json"],
  "related_agents": ["tekton-developer", "architect", "bug-fix-specialist"]
}
