{
  "toolId": "run-tests-local",
  "version": "1.0.0",
  "description": "Ejecuta tests (unit, integration, e2e) en condiciones de validación local. Orquesta opcionalmente prepare-full-env e invoke-mysql-seeds, compila y ejecuta dotnet test según scope. Salida JSON según tools-contract.",
  "implementation_path_ref": "paths.toolCapsules.run-tests-local",
  "contract_ref": "SddIA/tools/tools-contract.json",
  "cumulo_ref": "SddIA/agents/cumulo.json",
  "inputs": {
    "SkipPrepare": "boolean (opcional). No invocar prepare-full-env.",
    "SkipSeeds": "boolean (opcional). No invocar invoke-mysql-seeds.",
    "TestScope": "string (opcional). unit | integration | e2e | all. Por defecto all.",
    "OnlyTests": "boolean (opcional). Solo ejecutar tests (no prepare, no seeds).",
    "E2EBaseUrl": "string (opcional). URL base API para E2E; por defecto http://localhost:5010.",
    "OutputPath": "string (opcional). Fichero donde escribir el resultado JSON.",
    "OutputJson": "boolean (opcional). Emitir resultado JSON por stdout."
  },
  "output": {
    "schema_ref": "tools-contract.json output.required_fields y optional_fields",
    "data_fields": "tests_summary (passed, failed, total por scope o proyecto), duration_ms",
    "phases_feedback": ["init", "prepare", "seeds", "build", "tests", "done", "error"]
  },
  "env": ["Windows 11", "PowerShell 7+", ".NET SDK 8"],
  "depends_on_tools": ["prepare-full-env", "invoke-mysql-seeds"]
}
